%%% Macro style File of Vestnik. Don't change!
\documentclass[12pt,a4paper,twoside]{article}  %MikTeX
% \usepackage[cp1251]{inputenc}                  %Win
\usepackage[utf8]{inputenc}                  % Unicode!!!
\usepackage[T1,T2A]{fontenc}
\usepackage{amsmath,amsfonts,amssymb,amscd,euscript}
\usepackage[russian, english]{babel}

\usepackage{graphicx}
\usepackage{psfrag}
\usepackage{cite}
\usepackage{caption}
\captionsetup[figure]{labelfont={bf},labelformat={default},labelsep=period,name={Fig.}}
\captionsetup[table]{labelfont={bf},labelformat={default},labelsep=period,name={Table}}

\usepackage[textwidth=166mm,top=2cm,textheight=250mm,left=20mm,showframe=false]{geometry}
\tolerance=500
\voffset=0.5cm
%\headsep=5mm
%\textwidth=166mm
%\textheight=250mm
%\oddsidemargin=-4mm
%\evensidemargin=-4mm
%\topmargin=-7mm

\usepackage{ifthen}
\newcommand{\seriesrus}{\ifthenelse{\equal{MATHEMATICS}{\serieseng}}{МАТЕМАТИКА}{\ifthenelse{\equal{MECHANICS}{\serieseng}}{МЕХАНИКА}{\ifthenelse{\equal{COMPUTER SCIENCE}{\serieseng}}{КОМПЬЮТЕРНЫЕ НАУКИ}{UNDEFINED}}}}

\makeatletter

\global\let\@fundingrus\@empty
\def\fundingrus#1{\gdef\@fundingrus{\@ifempty{#1}{\@empty}{\noindent{\bf Финансирование.} #1}}}

\global\let\@fundingeng\@empty
\def\fundingeng#1{\gdef\@fundingeng{\@ifempty{#1}{\@empty}{\noindent{\bf Funding.} #1}}}

%information about the article on english
\def\titleeng{\begin{otherlanguage}{english}\thispagestyle{firstpagestyleeng}\label{paperfirstpage}
\hbox{MSC2020: \MSC}
\vspace{30pt plus 6pt}
\begin{flushleft}
{\bf\copyright~{\textit{\authorseng}}\\[2ex]
{\MakeUppercase{\articletitleeng}}}
\end{flushleft}
\end{otherlanguage}}

\def\annotationandkeywordseng{\begin{otherlanguage}{english}\noindent {\small \referateng \par } \vspace{8pt}
\noindent {\small {\it Keywords}: \keywordseng} \par%
\vspace{8pt}
\noindent {\small {\textrm DOI:} \paperdoi} \par%
\vspace{10pt plus 6pt minus 1pt}\end{otherlanguage}}

%information about the article on russian
\def\titlerus{\clearpage
\thispagestyle{firstpagestylerus}
\begin{otherlanguage}{russian}\noindent\parbox{\textwidth}{\small\noindent\textbf{\textit{\authorsrus}}}\par
\vspace{2pt plus 1pt minus 0pt}\par
\noindent\parbox{\textwidth}{\small\noindent\textbf{\articletitlerus}}\par
\vspace{6pt plus 1pt minus 0pt}\par
\noindent\parbox{\textwidth}{\small\noindent{\it Ключевые слова: }\keywordsrus} \par
\vspace{8pt}
\noindent{\small{УДК} \UDC}\par%
\vspace{7pt}
\noindent{\small{\textrm DOI:} \paperdoi}
\end{otherlanguage}}

\def\referrus{\begin{otherlanguage}{russian}\vspace{20pt}  \par \small  \noindent \referatrus\par\vspace{3ex}\@fundingrus\end{otherlanguage}}

%Received
\def\receivedeng{\begin{otherlanguage}{english}\vspace{3ex} \hfill Received~~\datereceive \par \vspace{5ex} \par\end{otherlanguage}}

\def\receivedrus{\begin{otherlanguage}{russian}\vspace{3ex} \hfill Поступила  в редакцию~~\datereceive \par \vspace{5ex} \par\end{otherlanguage}}

%contact information about authors
\def\contactseng{\begin{otherlanguage}{english}\noindent\parbox{\textwidth}{\small\noindent \contactinformationeng\par\vspace{20pt}\par
\noindent{\bf Citation: }\authorseng.~\articletitleeng, {\it Vestnik Udmurtskogo Universiteta. Matematika. Mekhanika. Komp'yuternye Nauki}, \paperyear, vol.~\papervolume, issue~\papernumber, \mbox{pp.~\pageref{paperfirstpage}--\pageref{paperlastpage}.}}\end{otherlanguage}}

\def\contactsrus{%
\begin{otherlanguage}{russian}\noindent\parbox{\textwidth}{\small\noindent\contactinformationrus\par\vspace{10pt}\par
\noindent{\bf Цитирование: }\authorsrus.~\articletitlerus~// Вестник Удмуртского университета. Математика. Механика. Компьютерные науки. \paperyear. Т.~\papervolume. Вып.~\papernumber. \mbox{С.~\pageref{paperfirstpage}--\pageref{paperlastpage}.}\label{paperlastpage}}\end{otherlanguage}
}

\@addtoreset{equation}{section}
\renewcommand{\section}{\@startsection{section}{1}{0pt}{1.3ex
plus 1ex minus .1ex}{1.3ex plus .1ex}{\bf\,\S\,}}
\newcommand{\point}{\hspace*{-4mm}{\bf.}\;}
\newcommand{\sect}[1]{\begin{flushleft}%
\protect{\section{\point#1}}\end{flushleft}}

\renewcommand{\@begintheorem}[2]{\begin{trivlist}
\item[\hspace{\labelsep}{\bf \mbox{~~~}#1\ #2.}]}
\renewcommand{\@opargbegintheorem}[3]{\begin{trivlist}
\item[\hspace{\labelsep}{\bf \mbox{~~~}#1\ #2 {\rm (#3).}}]}
\renewcommand{\@endtheorem}{\end{trivlist}}

\newtheorem{theo}{Theorem}
\newtheorem{lem}{Lemma}
\newtheorem{prop}{Proposition}
\newtheorem{assert}{Assertion}
\newtheorem{cor}{Corollary}
\newtheorem{hyp}{Hypothesis}
\newtheorem{df}{Definition}
\newtheorem{rem}{Remark}
\newtheorem{examp}{Example}
\newtheorem{assum}{Assumption}
\newtheorem{cond}{Condition}

\newcommand{\doc}{\mbox{P r o o f}}
\headsep=5mm

\renewcommand{\@evenfoot}{}
\renewcommand{\@oddfoot}{}

\let\OLDthebibliography\thebibliography
\renewcommand\thebibliography[1]{
  \OLDthebibliography{#1}
  \setlength{\parskip}{0pt}
  \setlength{\itemsep}{0pt plus 0.3ex}
}
\renewcommand*{\@biblabel}[1]{#1.\hfill}

\newcommand{\sectnn}[1]{%
\begin{center}%
\large\section*{#1}%
\end{center}%
}

\renewcommand{\@evenhead}%
{%
\begin{otherlanguage}{english}%
\raisebox{0pt}%
[\headheight]%
[0pt]%
{%
\vbox{\hbox to\textwidth{\thepage\strut\hfil\authorseng\hfil}\hrule\vspace{8pt}
}}%
\end{otherlanguage}%
}

\renewcommand{\@oddhead}%
{%
\begin{otherlanguage}{english}%
\raisebox{0pt}%
[\headheight]%
[0pt]%
{%
\vbox{\hbox to\textwidth{\strut\hfil\articleshorttitleeng\hfil\thepage}\hrule\vspace{8pt}% \hbox to \textwidth{\series \hfil  \issue}
}}\end{otherlanguage}}


\makeatother

\usepackage{fancyhdr}

\fancypagestyle{firstpagestylerus}{
\fancyhf{}
\headheight=30pt
\fancyhead[C]{\parbox{\textwidth}{{\scriptsize ВЕСТНИК\hfill УДМУРТСКОГО\hfill УНИВЕРСИТЕТА.\hfill МАТЕМАТИКА.\hfill МЕХАНИКА.\hfill КОМПЬЮТЕРНЫЕ\hfill НАУКИ}
\vspace{2pt}
\hrule
\vspace{8pt}
{\small \hbox to \textwidth{\seriesrus \hfill  \paperyear. Т.~\papervolume. Вып.~\papernumber. С.~\pageref{paperfirstpage}--\pageref{paperlastpage}.}}}}
\renewcommand{\headrulewidth}{0.0pt}
}

\fancypagestyle{basestylerus}{
\fancyhf{}
\headheight=15pt
\fancyhead[LE,RO]{\thepage}
\fancyhead[CE]{\articleshorttitlerus}
\fancyhead[CO]{\authorsrus}
\renewcommand{\headrulewidth}{0.4pt}
}

\fancypagestyle{firstpagestyleeng}{
\fancyhf{}
\headheight=30pt
\fancyhead[C]{\parbox{\textwidth}{{\scriptsize VESTNIK \hfill UDMURTSKOGO \hfill UNIVERSITETA. \hfill MATEMATIKA. \hfill MEKHANIKA. \hfill KOMP'UTERNYE \hfill NAUKI}\vspace{2pt}
\hrule
{\small \vspace{8pt} \hbox to \textwidth{\serieseng \hfill  \paperyear. Vol.~\papervolume. Issue~\papernumber. Pp.~\pageref{paperfirstpage}--\pageref{paperlastpage}.}}}}
\renewcommand{\headrulewidth}{0pt}
}

\fancypagestyle{basestyleeng}{
\fancyhf{}
\headheight=15pt
\fancyhead[LE,RO]{\thepage}
\fancyhead[CE]{\articleshorttitleeng}
\fancyhead[CO]{\authorseng}
\renewcommand{\headrulewidth}{0.4pt}
}

\pagestyle{basestyleeng}
