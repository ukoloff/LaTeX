\documentclass[10pt]{SPIIRAS_Proceedings}

\udk{000.00}


\titleRus{
  Маршрутные процессы в задачах последовательного обхода множеств при наличии ограничений%
}

\authorsRus{
}

\authorsTitleRus{
  А.А. П\smallcapsfake{етунин},
  А.Г. Ч\smallcapsfake{енцов},
  П.А. Ч\smallcapsfake{енцов}
} % \smallcapfake необходим для имитации малых прописных букв ввиду отсутствия поддержки в используемом шрифте

\abstractRus{
  В статье рассматривается \ldots
}

\keywordsRus{
  раз,
  два,
  три,
  четыре,
  пять
}


\begin{document}

\maketitle

\normalsize

\section*{Введение}

Объектом исследования в статье
являются задачи маршрутизации перемещений
с ограничениями различных типов;
среди последних особо выделяем условия
предшествования и ограничения динамического характера,
возникающие по мере развития процесса и проведения тех или иных работ.
При должной формализации возникает постановка,
идейно близкая к дискретным задачам управления большой размерности
(имеется в виду дискретность и по времени и  по фазовому состоянию).
Оптимизируется комплекс, включающий точку старта,
вариант очередности исполнения заданий
(далее -- маршрут)
и конкретную траекторию;
сам возникающий при этом комплекс (триплет)
именуем маршрутным процессом.
Возможные применения могут быть,
в частности, связаны с атомной энергетикой
(см. \cite{1,2,3};
задача минимизации дозовой нагрузки работников при демонтаже радиационно опасных объектов)
и машиностроением (см. \cite{4,5,6};
задача управления инструментом при фигурной листовой резке на машинах с ЧПУ);
имеются и другие приложения.
В настоящей статье ориентируемся на применение разрабатываемых методов в машиностроении;
следуем при этом монографии \cite{4}.
Здесь первоначальная задача управления режущим инструментом
с условиями предшествования и динамическими ограничениями
преобразуется к строгой математической постановке
оптимизационной задачи в классе вышеупомянутых маршрутных процессов,
в которой нашей целью является нахождение
глобального экстремума и соответствующего оптимального решения.
Кратко излагаются элементы общей теории и
конструируемый на ее основе оптимальный алгоритм,
реализованный на многоядерной ПЭВМ.
Используются понятия и обозначения
\cite[часть II]{4},
относящиеся к математической постановке,
а также содержательные построения \cite[часть I]{4}.

\section{Сводка общих понятий}

Используем стандартную теоретико множественную символику
(кванторы, связки и др.);
через $\varnothing$ обозначаем пустое множество,
$\stackrel{\triangle}{=}$ -- равенство по определению.
Множество, все элементы которого сами являются множествами,
называем семейством.
Если $x$ и $y$ -- объекты,
то $\{x;y\}$
есть их неупорядоченная пара:
$\{x;y\}$ содержит $x,\;y$
и не содержит никаких других элементов.
Для всякого объекта $z$ в виде $\{z\} \stackrel{\triangle}{=} \{z;z\}$
имеем синглетон,
содержащий $z$.
Множества являются объектами.
Если $a$ и $b$ -- объекты, то
\cite[c.~67]{15}
$(a,b) \stackrel{\triangle}{=} \{\{a\};\{a;b\}\}$
есть упорядоченная пара с первым элементом $a$ и вторым элементом $b$.
Для каждой упорядоченной пары $h$ через
$\mathrm{pr}_1(h)$ и $\mathrm{pr}_2(h)$
обозначаем первый и второй элементы $h$,
однозначно определяемые условием
$h = (\mathrm{pr} _1(h),\mathrm{pr} _1(h))$.
Если же $x,\;y$ и $z$ -- объекты,
то $(x,y,z) \stackrel{\triangle}{=} ((x,y),z)$
есть их упорядоченный триплет.
Соответственно,
$A \times B \times C = (A \times B) \times C$
для любых трех множеств $A,\;B$ и $C;$ см.
\cite[c.17]{16}.

Множеству $H$
сопоставляется семейство $\mathcal{P}(H)$
всех подмножеств (п/м) $H$
и $\mathcal{P}'(H) \stackrel{\triangle}{=}
\mathcal{P}(H) \setminus \{\varnothing\}$ -- семейство всех непустых п/м $H;$
через $\mathrm{Fin}(H)$
обозначаем семейство всех непустых конечных п/м
$H,\;\mathrm{Fin}(H) \subset \mathcal{P}'(H).$
Для непустого конечного множества $H$ имеем равенство
$\mathrm{Fin}(H) = \mathcal{P}'(H).$
Если $A$ и $B$ -- непустые множества,
$f$ -- отображение (функция) из $A$ в $B,$
а $C \in \mathcal{P}(A),$ то
$f^1(C) \stackrel{\triangle}{=} \{f(x):\;x \in C\} \in \mathcal{P}(B)$
есть образ $C$ при действии $f.$

Как обычно,
$\mathbb{R}$ -- вещественная прямая,
$\mathbb{R}_+ \stackrel{\triangle}{=} \{\xi \in \mathbb{R} \vert 0 \le \xi\} = [0,\infty[,\;\mathbb{N} \stackrel{\triangle}{=} \{1;2;...\}$
и $\mathbb{N}_0 \stackrel{\triangle}{=} \{0\} \cup \mathbb{N} = \{0;1;2;...\};$
при $p \in \mathbb{N}_0$ и $q \in \mathbb{N}_0$
$$
\overline{p,q} = \{\;k \in \mathbb{N}_0 \vert (p \le k) \& (k \in q)\}
$$
(при $q < p$ имеем $\overline{p,q} = \varnothing$).
Если $S$ -- непустое множество, то
$\mathcal{R}_+[S]$
есть множество всех неотрицательных вещественнозначных (в/з) функций на $S.$
Каждому непустому конечному множеству $K$
сопоставляем его мощность $|K| \in \mathbb{N}$
и непустое множество $(\mathrm{bi})[K]$
всех биекций
\cite[c.~87]{17} <<промежутка>>
$\overline{1,|K|}$ на $K;$
пусть
$|\varnothing| \stackrel{\triangle}{=} 0.$
Ясно, что при
$m \in \mathbb{N}$ в виде $(\mathrm{bi})[\overline{1,m}]$
имеем множество всех перестановок
\cite[c.~87]{17} множества
$\overline{1,m};$
если $\alpha \in (\mathrm{bi})[\overline{1,m}],$
то определена перестановка
$\alpha^{-1} \in (\mathrm{bi})[\overline{1,m}],$
обратная к
$\alpha:\;\alpha(\alpha^{-1}(k)) = \alpha^{-1}(\alpha(k)) = k$
при $k \in \overline{1,m}.$
Напомним, что здесь и ниже символика соответствует
\cite[$\S$3.1]{4}.

\section{Математическая постановка задачи}

Фиксируем непустое множество $X$
(в содержательных задачах \cite{4}
$X$ -- прямоугольник на плоскости)
и $X^0 \in \mathrm{Fin}(X);$
в пределах $X$ осуществляются рассматриваемые перемещения,
для которых точки из $X^0$ играют роль стартовых.
Пусть $N \in \mathbb{N}$ таково,
что $2 \le N;$
фиксируем $N$ множеств
\begin{equation}\label{2.1}
M_1 \in \mathrm{Fin}(X),...,M_N \in \mathrm{Fin}(X),
\end{equation}
именуемых далее мегаполисами,
также $N$ отношений (см. \cite[гл.II,$\S$4]{15})
\begin{equation}\label{2.2}
\mathbb{M}_1 \in \mathcal{P}'(M_1 \times M_1),...,\mathbb{M}_N \in \mathcal{P}'(M_N \times M_N).
\end{equation}

Мегаполисы (\ref{2.1})
являются объектами посещения,
а точки каждого отношения в (\ref{2.2})
определяют допустимые варианты выполнения работ,
связанных с посещением соответствующего мегаполиса и именуемых далее внутренними.
Если $j \in \overline{1,N},$
то полагаем, что
\begin{equation}\label{2.3}
(\mathfrak{M}_j \stackrel{\triangle}{=}
\{\;\mathrm{pr}_1(z):\;z \in \mathbb{M}_j\})
\& (\mathbf{M}_j \stackrel{\triangle}{=}
\{\;\mathrm{pr}_2(z):\;z \in \mathbb{M}_j\});
\end{equation}

В (\ref{2.3}) указаны множества возможных пунктов прибытия в $M_j$
и отправления из $M_j$ соответственно.
В связи с (\ref{2.3})
отметим, что
$$
(\mathbb{X} \stackrel{\triangle}{=} X^0 \cup
(\bigcup\limits_{i=1}^n \mathfrak{M}_i) \in \mathrm{Fin}(X))
\& (\mathbf{X} = X^0 \cup (\bigcup\limits_{i=1}^N \mathbf{M}_i) \in \mathrm{Fin}(X)).
$$
Рассматриваемые ниже системы перемещений имеют вид
\begin{equation}\label{2.4}
  \begin{aligned}
    (x \in X^0)
    \to
    (x_{1,1} \in \mathfrak{M}_{\alpha(1)} \leadsto x_{1,2} \in \mathbf{M}_{\alpha(1)})
    \to \dots \\
    \to
    (x_{N,1} \in \mathfrak{M}_{\alpha(N)} \leadsto x_{N,2} \in \mathbf{M}_{\alpha(N)}),
  \end{aligned}
\end{equation}
где $\alpha$ -- перестановка $\overline{1,N},$
сплошные стрелки обозначают внешние перемещения,
а волнистые -- перемещения при выполнении внутренних работ;
в (\ref{2.4}) постулируется, что
\begin{equation}\label{2.5}
  (x_{1,1},x_{1,2}) \in \mathbb{M}_{\alpha(1)},
  \dots,
  (x_{N,1},x_{N,2}) \in \mathbb{M}_{\alpha(N)}.
\end{equation}

Мы рассматриваем (\ref{2.4}), (\ref{2.5})
как реализацию маршрутного процесса.
Выбор самого этого процесса должен удовлетворять
ряду условий,
среди которых особо выделяются условия предшествования (см.\cite{10}).
Для введения этих условий полагаем сначала,
что $\mathbb{P} \stackrel{\triangle}{=} (
  \mathrm{bi})[\overline{1,N}],$
так что в (\ref{2.4}), (\ref{2.5})
$\alpha \in \mathbb{P}.$
Фиксируем множество
$\mathbf{K} \in \mathcal{P}(\overline{1,N} \times \overline{1,N}),$
элементы которого
(а это упорядоченные пары)
называем адресными парами
(итак, $\mathbf{K} \subset \overline{1,N} \times \overline{1,N}$);
полагаем, что
\begin{equation}\label{2.6}
\forall{\mathbf{K}_0} \in \mathcal{P}'(\mathbf{K})\;\exists{z_0} \in \mathbf{K}_0:\;\mathrm{pr}_1(z_0)
\ne \mathrm{pr}_1(z)\;\;\forall{z} \in \mathbf{K}_0.
\end{equation}

Первый элемент адресной пары часто называют отправителем,
а второй -- получателем
(груза, сообщения и др.).
Тогда, как показано в \cite[часть 2]{14},
\begin{multline}\label{2.7}
  % \begin{aligned}
    \mathbf{A} \stackrel{\triangle}{=} \\
    \left\{\;\alpha \in \mathbb{P} \vert\;
      \forall{t_1} \in \overline{1,N}\;\
      \forall{t_2}  \in \overline{1,N}\;\;
      ((\alpha(t_1),\alpha(t_2)) \in \mathbf{K})
      \Longrightarrow (t_1 < t_2)
    \right\} = \\
    =
    \left\{\;
      \alpha \in \mathbb{P} \vert
      \alpha^{-1}(\mathrm{pr}_1(z)) < \alpha^{-1}(\mathrm{pr}_2(z))\;\;\forall{z}
      \in \mathbf{K}
    \right\} \ne \varnothing
  % \end{aligned}
\end{multline}
есть (при условии (\ref{2.6}))
непустое множество всех маршрутов
(следуем терминологии TSP,
называя маршрутами перестановки индексов из $\overline{1,N}$),
допустимых по предшествованию или $\mathbf{K}$-допустимых:
имеются в виду маршруты,
для которых у любой адресной пары мегаполис-отправитель посещается раньше,
чем мегаполис-получатель.
Возвращаясь к (\ref{2.4}),
введем в рассмотрение траектории,
согласованные с маршрутами.
Сначала введем в рассмотрение множество
$\mathbb{Z}$ всех кортежей
$(z_i)_{i \in \overline{0,N}}: \overline{0,N} \longrightarrow \mathbb{X} \times \mathbf{X}.$
Если $x \in X^0$ и $\alpha \in \mathbb{P},$
то
\begin{equation}\label{2.8}
\mathcal{Z}_\alpha[x] \stackrel{\triangle}{=} \{(z_i)_{i \in \overline{0,N}}
\in \mathbb{Z} \vert\;(z_0 = (x,x)) \& (z_t \in \mathbb{M}_{\alpha(t)}\;\forall{t} \in \overline{1,N})\} \in \mathrm{Fin}(\mathbb{Z}).
\end{equation}

Из (\ref{2.8}) видно,
что траектории из
$\mathcal{Z}_\alpha[x]$
реализуют в строгой форме схему (\ref{2.4}), (\ref{2.5}).
При $x \in X^0$
получаем, что
\begin{equation}\label{2.9}
  \tilde{D}[x] \stackrel{\triangle}{=}
  \{(\alpha,(z_i)_{i \in \overline{0,N}}) \in \mathbf{A} \times \mathbb{Z}
  \vert \;(z_i)_{i \in \overline{0,N}} \in \mathcal{Z}_\alpha[x]\}
  \in \mathrm{Fin}(\mathbf{A} \times \mathbb{Z});
\end{equation}
(\ref{2.9}) есть множество всех допустимых решений (ДР)
частной задачи со стартом из $x,$ или $x$-задачи.
Наконец,
\begin{multline}\label{2.10}
  \mathbf{D} \stackrel{\triangle}{=}
  \{(\alpha,(z_i)_{i \in \overline{0,N}},x) \in \mathbf{A} \times \mathbb{Z} \times X^0 \vert
  (\alpha,(z_i)_{i \in \overline{0,N}}) \in \tilde{D}[x]\}
  \in
  \\
  \in \mathrm{Fin}(\mathbf{A} \times \mathbb{Z} \times X^0),
\end{multline}
получая множество всех ДР формулируемой ниже полной задачи.

{\bf Функции стоимости.}
Через $\mathfrak{N}$
обозначим семейство всех непустых п/м
$\overline{1,N}:\;\mathfrak{N} \in \mathcal{P}'(\overline{1,N}).$
Фиксируем $N + 2$ функции
\begin{equation}\label{2.11}
  \mathbf{c} \in \mathcal{R}_+[\mathbf{X} \times \mathbb{X} \times \mathfrak{N}],\;
  c_1 \in \mathcal{R}_+[\mathbb{M}_1 \times \mathfrak{N}],...,
  c_N \in \mathcal{R}_+[\mathbb{M}_N \times \mathfrak{N}],\;
  f \in \mathcal{R}_+[\mathbf{M}],
\end{equation}
где $\mathbf{M}$
есть объединение всех множеств
$\mathbf{M}_i,\;i \in \overline{1,N}.$

Полагаем, что функция $\mathbf{c}$ оценивает внешние перемещения,
т.е. перемещения между мегаполисами,
а также из точек множества $X^0$ к мегаполисам.
При $j \in \overline{1,N}$
функция $c_j$
оценивает выполнение внутренних работ,
связанных с посещением $M_j.$
Наконец, функция $f$
оценивает терминальное состояние
(точка $x_{N,2}$
в (\ref{2.5})).
Как видно из (\ref{2.11})
одним из аргументов функций $\mathbf{c},c_1,...,c_N$
является элемент семейства $\mathfrak{N},$
т.е. непустое п/м $\overline{1,N},$
именуемое далее списком (заданий).
В последующих теоретических построениях
в этом качестве будет использоваться список заданий,
не выполненных на текущий момент времени,
что характерно для задач о демонтаже,
связанных с обслуживанием АЭС и ликвидаций возможных аварий;
см. \cite{1,2,3}.
В случае фигурной листовой резки
(см. \cite{4}) возникает
(в связи с динамическими ограничениями)
необходимость использования зависимости
от списка уже выполненных заданий;
таким образом, вводя надлежащие штрафы,
удается учитывать ограничения динамического характера
(см. \cite{18}).
Однако, вводя дополнение такого списка до
$\overline{1,N},$
можно и этот случай свести к применению зависимостей
(\ref{2.11}).

В дальнейшем оптимизируется аддитивный критерий,
для введения которого полагаем,
что при
$x \in X^0,\;\alpha \in \mathbb{P}$ и
$(z_i)_{i \in \overline{1,N}} \in \mathcal{Z}_\alpha[x]$
\begin{multline}\label{2.12}
\mathfrak{C}_{\alpha}[(z_i)_{i \in \overline{1,N}}] \stackrel{\triangle}{=}
\\
\sum\limits_{i=1}^N [\mathbf{c}(\mathrm{pr}_2(z_{i-1}),\mathrm{pr}_1(z_i),\alpha^1(\overline{i,N})) +
c_{\alpha(i)}(z_i,\alpha^1(\overline{i,N}))] +
\\
+ f(\mathrm{pr}_2(z_N));
\end{multline}

Итак, в (\ref{2.12})
мы суммируем затратные показатели для внешних перемещений,
для внутренних работ и терминального состояния
(в случае листовой резки один из важных вариантов (\ref{2.12})
есть совокупное время выполнения всех заданий;
здесь, однако,
возникает существенное преобразование постановки
в сравнении с исходной содержательной задачей
уже на этапе сведения к схеме
(\ref{2.4}), (\ref{2.5}); см. \cite[$\S$3.3]{4}).
C учетом (\ref{2.12}) получаем при
$x \in X^0$ частную задачу ($x$-задачу)


\end{document}
