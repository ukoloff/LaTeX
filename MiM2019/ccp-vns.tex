\documentclass{ifac/ifacconf}

\usepackage[english]{babel}
\usepackage{graphicx}
\usepackage{natbib}

\usepackage{amssymb}
\usepackage{tikz}
\usetikzlibrary{patterns}
\graphicspath{{media/}}
%===============================================================================

\begin{document}
\begin{frontmatter}

\title{On the new Algorithm for Solving Continuous Cutting Problem}

\author[urfu]{Petunin A.A}
\author[urfu]{Polishuk E.G.}
\author[urfu]{Ukolov S.S}

\address[urfu]{Ural Federal University, Yekaterinburg, Russia}

\begin{abstract}                % Abstract of not more than 250 words.
The problem of tool path optimization
for CNC thermal cutting machines is considered
along with its classification.
A new approach to solving
Continuous Cutting Problem
is proposed
based on local optimization
using Fermat principle
and Variable Neighbourhood Search approach,
which autmatically takes
Precedence Constraint into account.
\end{abstract}

\begin{keyword}
CNC machine; thermal cutting;
tool path optimization;
CCP; GTSP;
Fermat principle;
Variable Neighbourhood Search
\end{keyword}

\end{frontmatter}

\section{Introduction}

The problem of cutting tool path optimization
is one of the applied optimization problems arising
in the design of control programs for CNC plate cutting machines.
The cost or time spent is typically used
as objective function to optimize.
The control program is generated by special software
(Computer-Aided Manufacturing, CAM-system)
just after another well-known optimization problem
has been solved,
i.e. the problem of nesting
(optimal placement of parts to manufacture on the plate).
The task is to minimize the consumption of sheet material
to produce the parts of known shapes, sizes and quantity.

The process of figure plate cutting with a CNC machine includes
the following activities:
\begin{itemize}
    \item{Pierce point} (cutting start)
    \item{Actual cutting}
    \item{Turning the cutter off} (cutting end)
    \item{Linear movement from end of cut to start of next cut} (air move)
\end{itemize}

\begin{figure}[b]
    \begin{center}
        \tikz[scale=0.5, transform shape]{
            \tikzstyle{part}=[pattern=north east lines, pattern color=gray,even odd rule]
            \tikzstyle{cutting}=[thick,draw=red,>->|,>=stealth]
            \tikzstyle{air move}=[thick,draw=blue,->,>=stealth]
            \tikzstyle{cutdir}=[cutting,double,->]
            \draw[cutting,part,rounded corners=2mm]
                (0, 0) ellipse (3 and 2)
                (-2, -1) rectangle (2, 1);
            \draw[cutting]
                (-2, 0) +(-45:0.5) coordinate(startA) to[bend left] +(0,0) to[bend left] +(45:0.5) coordinate(endA);
            \draw[cutting]
                (0, 2) +(135:0.5) coordinate(startB) to[bend right] +(0,0) to[bend right] +(45:0.5) coordinate(endB);
            \draw[cutting,part]
                (7, -1) ellipse (3 and 2);
            \draw[cutting]
                (7, 1) +(135:0.5) coordinate(startC) to[bend right] +(0,0) to[bend right] +(45:0.5) coordinate(endC);
            \draw[cutdir] (10.2,-0.5) -- node[sloped, above]{cutting direction} ++(0,-1);
            \draw[cutdir] (-3.2,-0.5) -- node[sloped, above]{cutting direction} ++(0,+1);
            \draw[cutdir] (1.8,0.5) -- ++(0,-1);
            \draw
                (-3, -3) circle(0.05) coordinate(M0) node[below] {$M_0$: Start of control program}
                (startA) circle(0.1) node[right] {$M_1$: Pierce point}
                (endA) node[right] {$M_1^*$: End of cut}
                (startB) circle(0.1) node[above left] {$M_2$: Pierce point}
                (endB) node[above right] {$M_2^*$: End of cut}
                (startC) circle(0.1) node[above right] {$M_3$}
                (endC) node[right] {$M_3^*$}
                (7, -3) node[below] {Part boundary / cutting segment};
            \draw[air move] (M0) -- (startA);
            \draw[air move] (endA) -- (startB);
            \draw[air move] (endB) -- node[sloped, below] {Air move} (startC);
            \draw[air move] (endC) -- (M0);
        }
    \end{center}
    \caption{Example of cutting tool path for two parts and three pierce points} \label{toolpath}
\end{figure}

Control program usually starts with an air move from
some starting point. Fig. \ref{toolpath} represents
the scheme of cutting two parts with three pierce points.
It shows tool path going
along the boundary contours of parts,
while in real life it should be offset to
a half cut width in order to preserve parts geometry and sizes.
From the other hand,
most CAM software assume
the path of cutting tool goes
along parts boundaries,
and actual shift is calculated
by CNC machine itself
or special postprocessing software
while converting tool path
from CAM internal representation
to specific CNC machine language.
In the former case,
exact value of cut allowance
is set by CNC machine operator
just before cutting process.
We will further assume
(if not specified otherwise)
that cutting head path is programmed
directly along bounding contours of the parts to cut,
and final tool path contains all the parts contours.

\section{Formalization}

Let us introduce some notation for tool path components.

We denote $A_1, A_2, \dots A_n$ -- two-dimensional shapes
(closed sets)
that are single- or multiple-connected
regions of Euclidean plane
$\mathbb R^2$.
They are bounded by one or several closed curves
(bounding contours)
$C_1, C_2, \dots C_N,
A_i, C_j \subset \mathbb R^2,
i \in \overline{1, n},
j \in \overline{1, N},
n \leqslant N)$.
Objects $A_1, A_2, \dots A_n$
represent plain parts to cut.

Let also define plane area
$B \subset \mathbb R^2$,
the model of
sheet material, from which parts are to be cut out.
In general,
this area can be of arbitrary complex shape
(contain several non-rectangular pieces),
but in context of tool path optimization
we will assume it to be
one closed point set bounded
(as well as a detail) by one outer contour.
The holes
(inner contours) are acceptable either.
We will suppose the nesting
(positon of the parts within $B$)
somehow fixed already,
meeting the condition of
mutual non-inersection.
Some other requirements may also arise
due to specific technlogical features
of CNC equipment used.
Any way,
fixed disposition of
$A_1, A_2, \dots A_n \subset B$
is available to us.

Then we denote $S=MM^*$ -- a cutting segment,
i.e. the path of cutting head
from pierce point $M$
to the corresponding cut end point $M^*$.
In terms of geometry,
cutting segment is a curve at Euclidean plane:
$S \subset \mathbb R^2,
M(x,y) \in \mathbb R^2,
M^*(x^*,y^*) \in \mathbb R^2$.
We suppose
the cut direction is defined
in every point of segment $S$.
In case when there are no
closed loops inside segment,
cut direction at each point of segment
is defined uniquely by the starting
point of segment $M$
(pierce point).
Tool path can contain closed loops
not only as part bounding contours,
but also to improve cutting quality.

Using the notion of cutting segment,
all the CNC machine cutting technics
can be classified as:
\begin{enumerate}
    \item{\textit{Closed contour cutting (standard)}}:
    each segment contains exactly one part contour
    that is cut from start to end
    \item{\textit{Multi-segment cutting}}:
    part contour consists of two (or more) cutting segments
    \item{\textit{Multi-contour cutting}}:
    several part contours are cut at once within one cutting segment
\end{enumerate}

\section{Conclusion}

\begin{ack}
The work was supported by Act 211 Government of the Russian Federation,
contract â„– 02.A03.21.0006
\end{ack}

% \bibliography{ifacconf}             % bib file to produce the bibliography


\end{document}
